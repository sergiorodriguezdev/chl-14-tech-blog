<div class="card my-3" data-post-id={{post.id}}>
  <div class="card-header d-flex justify-content-between align-items-center">
    <h5 class="card-title">{{post.title}}</h5>
    <p class="card-text">Posted by
      {{post.user.name}}
      on
      {{format_date post.createdOn}}</p>
  </div>
  <div class="card-body">
    <p class="card-text">{{post.content}}</p>
  </div>
</div>

<div class="container">
  <h1 class="display-4">Comments</h1>

  {{#if logged_in}}
    <button class="btn btn-primary" id="new-comment">New Comment</button>
  {{else}}
    <a href="/login">Login to leave a comment</a>
  {{/if}}
</div>

<div class="container" id="comment-group">
  {{#each post.comments as |comment|}}
    <div class="card my-3">
      <div class="card-header">
        <br />
      </div>
      <div class="card-body">
        <p class="card-text">{{comment.content}}</p>
        <p class="card-text">
          >
          {{comment.user.name}},
          {{format_date comment.createdOn}}</p>
      </div>
    </div>
  {{/each}}
</div>

<form id="form-comment" class="container visually-hidden" data-post-id={{post.id}} data-user-id={{user_id}}>
  <div class="card my-3">
    <div class="card-header">
      <button class="btn btn-close"></button>
    </div>
    <div class="card-body">
      <div class="mb-3">
        <label for="text-comment" class="form-label">Comment</label>
        <br />
        <textarea class="form-control" id="text-comment" rows="3" required></textarea>
      </div>
      <div class="d-grid mb-3">
        <button class="btn btn-primary" type="submit">Submit</button>
      </div>
    </div>
  </div>
</form>

{{#if logged_in}}
  <script src="../js/comments.js"></script>
{{/if}}